console.log(require('fs').readFileSync(require('path').join(__dirname, 'input.txt')).toString().split('\n').map(r => r.split(':')[1].split(';').every(g => g.split(',').reduce((acc, c) => acc && { 'red': 12, 'green': 13, 'blue': 14 }[c.trim().split(' ')[1]] >= Number(c.trim().split(' ')[0]), true)) ? Number(r.split(':')[0].match(/Game (\d+)/i)[1]) : 0).reduce((acc, n) => acc + n));