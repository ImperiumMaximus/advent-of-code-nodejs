console.log(require('fs').readFileSync(require('path').join(__dirname, 'input.txt')).toString().split('\n').reduce((acc, command) => [acc[0] + ((tokens = command.split(' '))[0] === 'forward' ? Number(tokens[1]) : 0), acc[1] + (tokens[0] === 'forward' ? (Number(tokens[1]) * acc[2]): 0), acc[2] + ((tokens[0] === 'down' ? Number(tokens[1]) : tokens[0] === 'up' ? -Number(tokens[1]) : 0))], [0, 0, 0]).slice(0, 2).reduce((acc, c) => acc * c));