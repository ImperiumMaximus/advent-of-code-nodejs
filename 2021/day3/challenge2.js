console.log(Array(2).fill(require('fs').readFileSync(require('path').join(__dirname, 'input.txt')).toString().split('\n').map(b => b.split(''))).reduce((acc, c, i) => acc * parseInt(((function f(_input, bit, index) { return _input.length === 1 ? _input[0].join('') : f(_input.filter(n => n[index] == (bit * Number((!((bits = _input.reduce((acc, n) => [acc[0] + Number(n[index]), acc[1] + Number(!Number(n[index]))], [0, 0]))).indexOf(Math.max(...bits)))) + (Number(!bit) * bits.indexOf(Math.max(...bits))))), bit, ++index) })(c, i, 0)), 2), 1));